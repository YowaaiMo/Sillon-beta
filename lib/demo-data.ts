// lib/demo-data.ts
export const loadDemoData = () => {
  const demoUser = {
    email: "demo@sillon.com",
    password: "password", // Pour la d√©mo, un mot de passe simple
    prenom: "Utilisateur",
    nom: "D√©mo",
    createdAt: new Date().toISOString(),
  }

  const demoSubjects = [
    { id: 1, name: "Math√©matiques", icon: "üìê", color: "blue", chapters: 3, progress: 65 },
    { id: 2, name: "Physique", icon: "‚öõÔ∏è", color: "purple", chapters: 2, progress: 70 },
    { id: 3, name: "Histoire", icon: "üìú", color: "orange", chapters: 4, progress: 50 },
    { id: 4, name: "Biologie", icon: "üß¨", color: "green", chapters: 2, progress: 75 },
  ]

  const demoChapters = {
    Math√©matiques: [
      {
        id: 101,
        name: "Alg√®bre Lin√©aire",
        difficulty: "Difficile",
        revisions: 2,
        timeSpent: 90,
        knowledge: 60,
        content: `L'alg√®bre lin√©aire est la branche des math√©matiques qui s'int√©resse √† l'√©tude des vecteurs, des espaces vectoriels (√©galement appel√©s espaces lin√©aires), des transformations lin√©aires (√©galement appel√©es applications lin√©aires ou op√©rateurs lin√©aires) et des syst√®mes d'√©quations lin√©aires. Les vecteurs sont des √©l√©ments qui peuvent √™tre additionn√©s entre eux et multipli√©s par des scalaires. Les espaces vectoriels sont des collections de vecteurs qui satisfont √† certains axiomes. Les transformations lin√©aires sont des fonctions qui pr√©servent l'addition des vecteurs et la multiplication par un scalaire. Les matrices sont des outils fondamentaux en alg√®bre lin√©aire pour repr√©senter les transformations lin√©aires et r√©soudre les syst√®mes d'√©quations.`,
      },
      {
        id: 102,
        name: "Calcul Diff√©rentiel",
        difficulty: "Moyen",
        revisions: 3,
        timeSpent: 120,
        knowledge: 75,
        content: `Le calcul diff√©rentiel est une branche des math√©matiques qui √©tudie les taux de changement des fonctions. Il s'agit de l'une des deux branches traditionnelles du calcul, l'autre √©tant le calcul int√©gral. Le concept central du calcul diff√©rentiel est la d√©riv√©e d'une fonction. La d√©riv√©e d'une fonction en un point donn√© repr√©sente la pente de la tangente √† la courbe de la fonction √† ce point, ou le taux de changement instantan√© de la fonction. Les d√©riv√©es sont utilis√©es pour trouver les maxima et minima des fonctions, pour analyser le mouvement, et pour mod√©liser des ph√©nom√®nes physiques et √©conomiques.`,
      },
      {
        id: 103,
        name: "Probabilit√©s",
        difficulty: "Facile",
        revisions: 1,
        timeSpent: 45,
        knowledge: 80,
        content: `Les probabilit√©s sont une branche des math√©matiques qui √©tudie le hasard et l'incertitude. Elles fournissent un cadre pour quantifier la vraisemblance d'√©v√©nements. Un √©v√©nement est un ensemble de r√©sultats possibles d'une exp√©rience al√©atoire. La probabilit√© d'un √©v√©nement est un nombre entre 0 et 1, o√π 0 signifie que l'√©v√©nement est impossible et 1 signifie qu'il est certain. Les concepts cl√©s incluent l'espace des √©v√©nements, les √©v√©nements mutuellement exclusifs, les √©v√©nements ind√©pendants, et les probabilit√©s conditionnelles. Les probabilit√©s sont largement utilis√©es en statistique, en finance, en science des donn√©es et dans de nombreux autres domaines.`,
      },
    ],
    Physique: [
      {
        id: 201,
        name: "M√©canique Classique",
        difficulty: "Moyen",
        revisions: 2,
        timeSpent: 100,
        knowledge: 70,
        content: `La m√©canique classique est une th√©orie physique d√©crivant le mouvement des corps macroscopiques, depuis les projectiles jusqu'aux parties de machines, ainsi que les objets astronomiques, tels que les vaisseaux spatiaux, les plan√®tes, les √©toiles et les galaxies. Elle est l'une des plus anciennes et des plus vastes branches de la physique, et elle est bas√©e sur les lois du mouvement de Newton et la loi de la gravitation universelle. Les concepts fondamentaux incluent la force, la masse, l'acc√©l√©ration, l'√©nergie cin√©tique et potentielle, et le moment.`,
      },
      {
        id: 202,
        name: "√âlectromagn√©tisme",
        difficulty: "Difficile",
        revisions: 1,
        timeSpent: 80,
        knowledge: 60,
        content: `L'√©lectromagn√©tisme est la branche de la physique qui √©tudie les interactions entre les champs √©lectriques et les champs magn√©tiques. Ces deux champs ne sont pas ind√©pendants mais sont les deux facettes d'un m√™me ph√©nom√®ne : le champ √©lectromagn√©tique. Les lois de l'√©lectromagn√©tisme sont r√©sum√©es par les √©quations de Maxwell, qui d√©crivent comment les champs √©lectriques et magn√©tiques sont g√©n√©r√©s par des charges et des courants, et comment ils se propagent dans l'espace. L'√©lectromagn√©tisme est √† la base de nombreuses technologies modernes, y compris l'√©lectricit√©, l'√©lectronique, les communications sans fil et l'optique.`,
      },
    ],
    Histoire: [
      {
        id: 301,
        name: "R√©volution Fran√ßaise",
        difficulty: "Facile",
        revisions: 3,
        timeSpent: 70,
        knowledge: 85,
        content: `La R√©volution fran√ßaise est une p√©riode de bouleversements sociaux et politiques majeurs en France, qui a dur√© de 1789 √† 1799. Elle a mis fin √† la monarchie absolue et √† la soci√©t√© d'ordres, et a conduit √† l'√©tablissement de la Premi√®re R√©publique. Les causes incluent des probl√®mes √©conomiques, des in√©galit√©s sociales et l'influence des id√©es des Lumi√®res. Des √©v√©nements cl√©s sont la prise de la Bastille, la D√©claration des Droits de l'Homme et du Citoyen, la Terreur et le coup d'√âtat de Napol√©on Bonaparte.`,
      },
      {
        id: 302,
        name: "Guerres Mondiales",
        difficulty: "Moyen",
        revisions: 2,
        timeSpent: 110,
        knowledge: 65,
        content: `Les Guerres Mondiales d√©signent principalement la Premi√®re Guerre Mondiale (1914-1918) et la Seconde Guerre Mondiale (1939-1945). La Premi√®re Guerre Mondiale a √©t√© d√©clench√©e par des tensions imp√©rialistes et nationalistes en Europe, et a vu l'introduction de nouvelles technologies militaires. La Seconde Guerre Mondiale, encore plus d√©vastatrice, a impliqu√© des id√©ologies totalitaires et a culmin√© avec l'Holocauste et l'utilisation de la bombe atomique. Ces conflits ont profond√©ment remodel√© la carte politique mondiale et ont eu un impact durable sur la soci√©t√©.`,
      },
      {
        id: 303,
        name: "Antiquit√© Romaine",
        difficulty: "Difficile",
        revisions: 1,
        timeSpent: 90,
        knowledge: 55,
        content: `L'Antiquit√© Romaine couvre la p√©riode de l'histoire de Rome, de sa fondation l√©gendaire en 753 av. J.-C. √† la chute de l'Empire Romain d'Occident en 476 ap. J.-C. Elle est divis√©e en trois grandes p√©riodes : la Monarchie, la R√©publique et l'Empire. Rome a d√©velopp√© un vaste empire gr√¢ce √† sa puissance militaire et son organisation politique et administrative. Sa culture, son droit, son architecture et sa langue (le latin) ont eu une influence consid√©rable sur la civilisation occidentale.`,
      },
      {
        id: 304,
        name: "Moyen √Çge",
        difficulty: "Moyen",
        revisions: 0,
        timeSpent: 0,
        knowledge: 40,
        content: `Le Moyen √Çge est la p√©riode de l'histoire europ√©enne qui s'√©tend de la chute de l'Empire Romain d'Occident (476 ap. J.-C.) √† la Renaissance (vers le XVe si√®cle). Cette p√©riode est souvent divis√©e en Haut Moyen √Çge, Moyen √Çge Central et Bas Moyen √Çge. Elle est caract√©ris√©e par l'√©mergence du f√©odalisme, l'influence dominante de l'√âglise chr√©tienne, les croisades, la construction de cath√©drales, et le d√©veloppement des premi√®res universit√©s.`,
      },
    ],
    Biologie: [
      {
        id: 401,
        name: "La Cellule",
        difficulty: "Facile",
        revisions: 2,
        timeSpent: 60,
        knowledge: 90,
        content: `La cellule est l'unit√© fondamentale de la vie. Il existe deux types principaux de cellules : les cellules procaryotes (sans noyau d√©fini, comme les bact√©ries) et les cellules eucaryotes (avec un noyau et des organites, comme les cellules animales et v√©g√©tales). Chaque cellule contient du mat√©riel g√©n√©tique (ADN), une membrane plasmique qui la s√©pare de son environnement, et un cytoplasme o√π se d√©roulent les r√©actions chimiques essentielles √† la vie. Les organites comme les mitochondries (production d'√©nergie) et le r√©ticulum endoplasmique (synth√®se de prot√©ines et lipides) ont des fonctions sp√©cifiques.`,
      },
      {
        id: 402,
        name: "G√©n√©tique",
        difficulty: "Difficile",
        revisions: 1,
        timeSpent: 100,
        knowledge: 50,
        content: `La g√©n√©tique est la science de l'h√©r√©dit√© et de la variation des √™tres vivants. Elle √©tudie comment les caract√©ristiques sont transmises des parents √† la prog√©niture. L'ADN (acide d√©soxyribonucl√©ique) est la mol√©cule qui porte l'information g√©n√©tique sous forme de g√®nes. Un g√®ne est un segment d'ADN qui code pour une prot√©ine ou une fonction sp√©cifique. Les concepts cl√©s incluent la r√©plication de l'ADN, la transcription (ADN en ARN), la traduction (ARN en prot√©ine), les mutations, et les lois de Mendel sur l'h√©r√©dit√©.`,
      },
    ],
  }

  // Generate events for the current week and next week for demo
  const today = new Date()
  const currentDayOfWeek = today.getDay() // 0 for Sunday, 1 for Monday
  const diffToMonday = currentDayOfWeek === 0 ? -6 : 1 - currentDayOfWeek // Days to subtract to get to Monday

  const mondayThisWeek = new Date(today)
  mondayThisWeek.setDate(today.getDate() + diffToMonday)
  mondayThisWeek.setHours(0, 0, 0, 0)

  const mondayNextWeek = new Date(mondayThisWeek)
  mondayNextWeek.setDate(mondayThisWeek.getDate() + 7)

  const formatDateForEvent = (date: Date) => date.toISOString().split("T")[0]

  const demoEvents = [
    // This week
    {
      id: 1,
      title: "R√©vision Alg√®bre",
      subject: "Math√©matiques",
      date: formatDateForEvent(
        new Date(mondayThisWeek.getFullYear(), mondayThisWeek.getMonth(), mondayThisWeek.getDate() + 1),
      ), // Tuesday
      startTime: "10:00",
      endTime: "11:30",
      color: "bg-blue-500",
      type: "revision",
    },
    {
      id: 2,
      title: "Cours √âlectromagn√©tisme",
      subject: "Physique",
      date: formatDateForEvent(
        new Date(mondayThisWeek.getFullYear(), mondayThisWeek.getMonth(), mondayThisWeek.getDate() + 2),
      ), // Wednesday
      startTime: "14:00",
      endTime: "16:00",
      color: "bg-green-500",
      type: "cours",
    },
    {
      id: 3,
      title: "Examen Histoire",
      subject: "Histoire",
      date: formatDateForEvent(
        new Date(mondayThisWeek.getFullYear(), mondayThisWeek.getMonth(), mondayThisWeek.getDate() + 4),
      ), // Friday
      startTime: "09:00",
      endTime: "12:00",
      color: "bg-red-500",
      type: "examen",
    },
    {
      id: 4,
      title: "R√©vision Biologie",
      subject: "Biologie",
      date: formatDateForEvent(
        new Date(mondayThisWeek.getFullYear(), mondayThisWeek.getMonth(), mondayThisWeek.getDate() + 0),
      ), // Monday
      startTime: "16:00",
      endTime: "17:00",
      color: "bg-blue-500",
      type: "revision",
    },
    // Next week
    {
      id: 5,
      title: "Cours de G√©n√©tique",
      subject: "Biologie",
      date: formatDateForEvent(
        new Date(mondayNextWeek.getFullYear(), mondayNextWeek.getMonth(), mondayNextWeek.getDate() + 1),
      ), // Next Tuesday
      startTime: "09:00",
      endTime: "10:30",
      color: "bg-green-500",
      type: "cours",
    },
    {
      id: 6,
      title: "R√©vision Probabilit√©s",
      subject: "Math√©matiques",
      date: formatDateForEvent(
        new Date(mondayNextWeek.getFullYear(), mondayNextWeek.getMonth(), mondayNextWeek.getDate() + 3),
      ), // Next Thursday
      startTime: "13:00",
      endTime: "14:00",
      color: "bg-blue-500",
      type: "revision",
    },
  ]

  const demoSessions = [
    {
      id: 1,
      subject: "Math√©matiques",
      chapter: "Alg√®bre Lin√©aire",
      duration: 3600,
      feedback: "moyen",
      date: new Date(today.getFullYear(), today.getMonth(), today.getDate() - 2).toISOString(), // 2 days ago
    },
    {
      id: 2,
      subject: "Physique",
      chapter: "M√©canique Classique",
      duration: 2700,
      feedback: "facile",
      date: new Date(today.getFullYear(), today.getMonth(), today.getDate() - 1).toISOString(), // 1 day ago
    },
    {
      id: 3,
      subject: "Histoire",
      chapter: "R√©volution Fran√ßaise",
      duration: 1800,
      feedback: "difficile",
      date: new Date(today.getFullYear(), today.getMonth(), today.getDate()).toISOString(), // Today
    },
  ]

  localStorage.setItem("isLoggedIn", "true")
  localStorage.setItem("userEmail", demoUser.email)
  localStorage.setItem("isDemoMode", "true")
  localStorage.setItem("users", JSON.stringify([demoUser]))
  localStorage.setItem("subjects", JSON.stringify(demoSubjects))
  localStorage.setItem("events", JSON.stringify(demoEvents))
  localStorage.setItem("sessions", JSON.stringify(demoSessions))

  // Save chapters per subject
  for (const subjectName in demoChapters) {
    localStorage.setItem(
      `chapters_${subjectName}`,
      JSON.stringify(demoChapters[subjectName as keyof typeof demoChapters]),
    )
  }
}

export const clearDemoData = () => {
  localStorage.removeItem("isLoggedIn")
  localStorage.removeItem("userEmail")
  localStorage.removeItem("isDemoMode")
  localStorage.removeItem("users")
  localStorage.removeItem("subjects")
  localStorage.removeItem("events")
  localStorage.removeItem("sessions")
  // Clear all chapter data
  Object.keys(localStorage).forEach((key) => {
    if (key.startsWith("chapters_")) {
      localStorage.removeItem(key)
    }
  })
}
